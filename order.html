<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/css/bootstrap.min.css">
</head>
<body>
    <h1 class="text-center">Skapa order</h1>

    <div class="container">

      <div class="row justify-content-center align-items-center" style="height:100vh">
        <!--productimage-->
        <div class="col-md-6">

          <img id ="product-image" src="#" alt="Product image" class="img-fluid mb-3" style="width: 70%;">

        </div>
        <!--productinfo-->
        <div class="col-md-6">
          <h2 class="mb-3" id="product-title"></h2>
          <p class="mb-3" id="product-description"></p>
          <h3 class="mb-3" id="product-price"></h3>
        </div>
    
        <form action="#" id="contact-form">
            <!-- namn input -->
            <div class="mb-3 px-3"> 
                <label for="nameinput" class="form-label">Namn</label>
                <input type="name" class="form-control" id="nameinput" placeholder="Fyll i ditt för och efternamn" required minlength="2" maxlength="50"> 
               
              </div>
              <!-- telefon input -->
              <div class="mb-3 px-3">
                <label for="phoneInput" class="form-label">Telefon</label>
                <input type="phone" class="form-control" id="phoneInput" placeholder="123 456 7890" required 
                pattern="[-()0-9]+" title="Får bara innehålla siffror, bindestreck samt parenteser" maxlength="50">
            
              </div>
              <!-- email input -->
              <div class="mb-3 px-3">
                <label for="emailInput" class="form-label">E-mail</label>
                <input type="email" class="form-control" id="emailInput" placeholder="Fyll i din e-mailadress" required maxlength="50">
             
              </div>
              <!-- adress input -->
              <div class="mb-3 px-3">
                <label for="addressInput" class="form-label">Adress</label>
                <input type="address" class="form-control" id="addressInput" placeholder="Exempelvägen 1" required minlength="4" maxlength="50">
            
              </div>
              <!-- postnummer input -->
              <div class="mb-3 px-3">
                <label for="zipInput" class="form-label">Postnummer</label>
                <input type="zip-code" class="form-control" id="zipInput" placeholder="123 45" required 
                pattern="[ 0-9]{6}" title="Får bara innehålla siffror och mellanslag samt måste vara 6 tecken långt"> 
    
              </div>
              <!-- ort input -->
              <div class="mb-3 px-3">
                <label for="regionInput" class="form-label">Ort</label>
                <input type="region" class="form-control" id="regionInput" placeholder="Exembelby" required minlength="2" maxlength="50">
              
              </div>
              <div class="text-center">
                <!-- submit knapp -->
            
              <a href="#" type="submit" class="btn btn-lg btn-primary px-4" onclick="transInfo()">Färdigställ order</a>
              
            </div>
        </form>
      </div>

    </div>
    

    <script>
      const urlParams = new URLSearchParams(location.search);
      const productTitle = urlParams.get('title');
      const productDescription = urlParams.get('description');
      const productPrice = urlParams.get('price');
      const productImage = urlParams.get('image');

      document.getElementById("product-title").innerHTML = productTitle;
      document.getElementById("product-description").innerHTML = productDescription;
      document.getElementById("product-price").innerHTML = productPrice;
      document.getElementById("product-image").src = productImage;

      function transInfo(){
      
      //Hämtar referens till element som innehåller produktinfo
      const titleElement = document.getElementById("product-title").textContent;
      const descriptionElement = document.getElementById("product-description").textContent;
      const priceElement = document.getElementById("product-price").textContent;
      const imgElement = document.getElementById("product-image").src;
      //sparar produktinfo
      const title = titleElement.textContent;
      const description = descriptionElement.textContent;
      const price = priceElement.textContent;
      const image = imgElement.src
        console.log(titleElement)
        console.log(descriptionElement)
        console.log(priceElement)
        console.log(imgElement)
      //const url = "test.html?title=" + encodeURIComponent(title) + "&description=" + encodeURIComponent(description) + "&price=" + encodeURIComponent(price);

      //console.log(url)

      //location.href = url;
      }
      
  </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax"></script>
    

</body>
</html>